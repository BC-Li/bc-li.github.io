---
title: Verilog 笔记
layout: single
category: cn
header:
  overlay_image: /assets/images/coding.jpg
author_profile: true
toc: true
---
​	这学期开了模电，所以要用到 ~~Veribug~~语言啦。

​	作为一个用惯了 VS Code 的童鞋来说，Vivado 自带的编辑器实在是太丑了！于是打算换到熟悉一点的环境。看了一下hin简单，稍稍配置一下就可以啦。
上手之后主要是

* 更换 Vivado 的默认编辑器
* 给 VS Code 用上 Vivado 的代码补全

具体过程省略100字 2333 

实际重要的是编程，不是嘛。

## Veri~~bug~~log 基本语法

### 一个模块长啥样呢

```verilog
module test(	//	put your module name here
    input in,	//	claim input signal
    output out 	//	claim output signal
 	output out_n   
);
    //	if needed you can claim your internal variables here
    /******	below are the logic descriptions *****/
    assign out = in;
    assign out_n = ~in;
    /****************** end **********************/
endmodule
```

这个电路长介个样子：

​																	图.jpg

好吧我承认我太懒了ww

### 半加器的 Verilog 代码

```verilog
module add(
	input a,b,
    output sum,cout
);
    assign {cout,sum} = a+b;	
endmodule
```

这里的 { } 是位拼接符号。将两个单 bit 符号拼接成了一个 2bit 符号，用于接收相加的结果。

下面这段代码与上面的代码等价。

```verilog
module add(
	input a,b,
	output sum,cout
);
	assign cout = a & b;
	assign sum = a ^ b;
endmodule
```

需要注意的是， Verilog 作为一个**硬件描述**语言，上面代码块中的 cout 和 sum 两条语句顺序交换并不会对电路本身产生任何影响。他们是位置无关的。

### 全加器的 Verilog 代码

这个要上图了qwq

![fulladder](/assets/images/fulladder.png)

用上面做好的半加器来做一个全加器吧。

```verilog
module full_add(
	input a,b,cin,
    output sum,cout
);
    wire s,carry1,carry2;
    add add_inst1(
        .a(a ),
        .b(b ),
        .sum(s ),
        .cout(carry1)
    );
    add add_inst2(	//	claimed an half adder here. add_inst2 is customed name of the adder, you can name it anything.
        .a(s ),
        .b(cin ),
        .sum(sum ),
        .cout(carry2)
    );
    assign cout = carry1|carry2;
endmodule
```
### 二选一选择器的 Verilog 代码

```verilog
module selector(
    input a_1,a_2,s,
    output aout
);
    assign aout = (~s & a_1)|(s & a_2);
endmodule
```




### 四选一选择器的 Verilog 代码

```verilog
module fourselector(
	input a_1,a_2,a_3,a_4,s_1,s_2,
    output aout
);
    wire carry_1,carry_2;
    selector selector_inst1(
        .a_1(carry_1 ),
        .a_2(carry_2 ),
        .s(s_1 ),
        .aout(aout )
    );
    selector selector_inst2(
        .a_1(a_1 ),
        .a_2(a_2 ),
        .s(s_2 ),
        .aout(carry_1 )
    );
    selector selector_inst3(
        .a_1(a_3 ),
        .a_2(a_4 ),
        .s(s_2 ),
        .aout(carry_2 )
    );
endmodule
```

